---
import Heading from "../components/heading/heading";
import Layout from "../layouts/Layout.astro";

const response = await fetch(import.meta.env.STRAPI_URL + "articles");

const { data } = await response.json();
---

<Layout title="Welcome to Astro.">
  <Heading level="h1" size="xl">Tämä sisältö tulee Strapista</Heading>

  <ul class="flex flex-col gap-3">
    {
      data?.map((article) => (
        <li class="text-xl underline">
          <a href={"articles/" + article.id}>{article.attributes.title}</a>
        </li>
      ))
    }
  </ul>
</Layout>
